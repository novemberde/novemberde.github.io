<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Docker image를 EB(Elastic Beanstalk)를 통해 배포하기 | Novemberde's Blog</title><meta name=keywords content="docker,eb,aws,elastic,beanstalk,elasticbeanstalk,deploy"><meta name=description content="Summary AWS에서 Elastic Beanstalk를 통해 docker image를 배포할 수 있다. 이번에는 기존에 만들었던 Dockerfile을 Elastic beanstalk에 배포해 보겠다.
Dockerfile 준비하기 이전에 node js server를 하나의 Dockerfile로 만들어 놓았다. 테스트하고 싶으신 분들은 this repository를 참고하길 바란다.
FROM novemberde/node-pm2 MAINTAINER KH BYUN &#34;novemberde.github.io&#34; ENV NODE_ENV production EXPOSE 3000 COPY ./ /src RUN npm install --prefix /src CMD [&#34;pm2-docker&#34;, &#34;/src/app.js&#34;] Elastic Beanstalk 설정하기 Elastic Beanstalk로 배포하는 경우에 아래와 같이 2가지 방법이 있다.
Single instance Load balancing, auto scaling Single instance는 하나에 인스턴스에 해당 dockerfile로 구성된 인스턴스가 올라가는 경우를 발한다."><meta name=author content><link rel=canonical href=https://novemberde.github.io/post/2017/07/03/Elastic_Beanstalk/><link crossorigin=anonymous href=/assets/css/stylesheet.min.9f1d947375927e9847272b1f4e9be81336f539e513bf04d52cade31f81cad1af.css integrity="sha256-nx2Uc3WSfphHJysfTpvoEzb1OeUTvwTVLK3jH4HK0a8=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://novemberde.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://novemberde.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://novemberde.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://novemberde.github.io/apple-touch-icon.png><link rel=mask-icon href=https://novemberde.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.108.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-97433460-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="Docker image를 EB(Elastic Beanstalk)를 통해 배포하기"><meta property="og:description" content="Summary AWS에서 Elastic Beanstalk를 통해 docker image를 배포할 수 있다. 이번에는 기존에 만들었던 Dockerfile을 Elastic beanstalk에 배포해 보겠다.
Dockerfile 준비하기 이전에 node js server를 하나의 Dockerfile로 만들어 놓았다. 테스트하고 싶으신 분들은 this repository를 참고하길 바란다.
FROM novemberde/node-pm2 MAINTAINER KH BYUN &#34;novemberde.github.io&#34; ENV NODE_ENV production EXPOSE 3000 COPY ./ /src RUN npm install --prefix /src CMD [&#34;pm2-docker&#34;, &#34;/src/app.js&#34;] Elastic Beanstalk 설정하기 Elastic Beanstalk로 배포하는 경우에 아래와 같이 2가지 방법이 있다.
Single instance Load balancing, auto scaling Single instance는 하나에 인스턴스에 해당 dockerfile로 구성된 인스턴스가 올라가는 경우를 발한다."><meta property="og:type" content="article"><meta property="og:url" content="https://novemberde.github.io/post/2017/07/03/Elastic_Beanstalk/"><meta property="article:section" content="post"><meta property="article:published_time" content="2017-07-03T11:30:03+00:00"><meta property="article:modified_time" content="2017-07-03T11:30:03+00:00"><meta property="og:site_name" content="Novemberde dev logs"><meta name=twitter:card content="summary"><meta name=twitter:title content="Docker image를 EB(Elastic Beanstalk)를 통해 배포하기"><meta name=twitter:description content="Summary AWS에서 Elastic Beanstalk를 통해 docker image를 배포할 수 있다. 이번에는 기존에 만들었던 Dockerfile을 Elastic beanstalk에 배포해 보겠다.
Dockerfile 준비하기 이전에 node js server를 하나의 Dockerfile로 만들어 놓았다. 테스트하고 싶으신 분들은 this repository를 참고하길 바란다.
FROM novemberde/node-pm2 MAINTAINER KH BYUN &#34;novemberde.github.io&#34; ENV NODE_ENV production EXPOSE 3000 COPY ./ /src RUN npm install --prefix /src CMD [&#34;pm2-docker&#34;, &#34;/src/app.js&#34;] Elastic Beanstalk 설정하기 Elastic Beanstalk로 배포하는 경우에 아래와 같이 2가지 방법이 있다.
Single instance Load balancing, auto scaling Single instance는 하나에 인스턴스에 해당 dockerfile로 구성된 인스턴스가 올라가는 경우를 발한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://novemberde.github.io/post/"},{"@type":"ListItem","position":2,"name":"Docker image를 EB(Elastic Beanstalk)를 통해 배포하기","item":"https://novemberde.github.io/post/2017/07/03/Elastic_Beanstalk/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Docker image를 EB(Elastic Beanstalk)를 통해 배포하기","name":"Docker image를 EB(Elastic Beanstalk)를 통해 배포하기","description":"Summary AWS에서 Elastic Beanstalk를 통해 docker image를 배포할 수 있다. 이번에는 기존에 만들었던 Dockerfile을 Elastic beanstalk에 배포해 보겠다.\nDockerfile 준비하기 이전에 node js server를 하나의 Dockerfile로 만들어 놓았다. 테스트하고 싶으신 분들은 this repository를 참고하길 바란다.\nFROM novemberde/node-pm2 MAINTAINER KH BYUN \u0026#34;novemberde.github.io\u0026#34; ENV NODE_ENV production EXPOSE 3000 COPY ./ /src RUN npm install --prefix /src CMD [\u0026#34;pm2-docker\u0026#34;, \u0026#34;/src/app.js\u0026#34;] Elastic Beanstalk 설정하기 Elastic Beanstalk로 배포하는 경우에 아래와 같이 2가지 방법이 있다.\nSingle instance Load balancing, auto scaling Single instance는 하나에 인스턴스에 해당 dockerfile로 구성된 인스턴스가 올라가는 경우를 발한다.","keywords":["docker","eb","aws","elastic","beanstalk","elasticbeanstalk","deploy"],"articleBody":"Summary AWS에서 Elastic Beanstalk를 통해 docker image를 배포할 수 있다. 이번에는 기존에 만들었던 Dockerfile을 Elastic beanstalk에 배포해 보겠다.\nDockerfile 준비하기 이전에 node js server를 하나의 Dockerfile로 만들어 놓았다. 테스트하고 싶으신 분들은 this repository를 참고하길 바란다.\nFROM novemberde/node-pm2 MAINTAINER KH BYUN \"novemberde.github.io\" ENV NODE_ENV production EXPOSE 3000 COPY ./ /src RUN npm install --prefix /src CMD [\"pm2-docker\", \"/src/app.js\"] Elastic Beanstalk 설정하기 Elastic Beanstalk로 배포하는 경우에 아래와 같이 2가지 방법이 있다.\nSingle instance Load balancing, auto scaling Single instance는 하나에 인스턴스에 해당 dockerfile로 구성된 인스턴스가 올라가는 경우를 발한다.\n만약 실무적으로 하나의 웹어플리케이션을 배포한다고 봤을 때는 Load balancing, auto scaling은 필수적으로 이루어져야 하기 때문에 load balancing, auto scaling을 택하는 것이 좋을 것이다.\n이번에는 테스트이기 때문에 Single instance로 배포하고 메뉴를 살펴볼 것이다.\nElastic Beanstalk에 Docker패키지 배포하기 Environment를 생성하면 다음과 같은 화면을 볼 수 있다.\n여기서 Confiuration을 통해 docker 설정 정보를 변경할 수 있다.\n우리는 Dockerfile과 함께 웹어플리케이션을 배포해야하므로 Upload and Deploy를 선택하자.\n직접 업로드하기를 선택하고, git repository에서 배포에 필요한 파일들인 app.js, Dockerfile, package.json을 zip으로 압축하여 업로드하면 배포가 완료된다.\nupload가 완료되었으면 Dashboard화면에서 위쪽의 url의 3000번 포트로 접속하여 배포가 완료되었는지 확인해 보자.\nAddition Seoul region 사용자들은 ECS(EC2 Container Service)를 사용하지 못해 안타까워하고 있다. 하지만 Elastic Beanstalk에서 Multicontainer Docker Platform을 사용할 때 내부적으로 ECS cluster를 사용하고 있다.\n이말은 ECS는 공식적으로 지원하지 않지만 Elastic Beanstalk를 docker로 활용하면 ECS를 사용하는 것과 같은 형태라고 볼 수 있는 것이다.\n이에 대해서 좀 더 자세히 알고 싶으신 분은 다음의 링크를 참고하길 바란다. Working with multicontainer docker platform\nReferences https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/Welcome.html?icmpid=docs_elasticbeanstalk_console https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker.html https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecs.html ","wordCount":"239","inLanguage":"en","datePublished":"2017-07-03T11:30:03Z","dateModified":"2017-07-03T11:30:03Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://novemberde.github.io/post/2017/07/03/Elastic_Beanstalk/"},"publisher":{"@type":"Organization","name":"Novemberde's Blog","logo":{"@type":"ImageObject","url":"https://novemberde.github.io/favicon.ico"}}}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8620431066400094" crossorigin=anonymous></script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://novemberde.github.io/ accesskey=h title="Novemberde's Blog (Alt + H)">Novemberde's Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://novemberde.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://novemberde.github.io/post/ title=Post><span>Post</span></a></li><li><a href=https://novemberde.github.io/about title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://novemberde.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://novemberde.github.io/post/>Posts</a></div><h1 class=post-title>Docker image를 EB(Elastic Beanstalk)를 통해 배포하기</h1><div class=post-meta>July 3, 2017&nbsp;·&nbsp;2 min</div></header><div class=post-content><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><hr><p>AWS에서 Elastic Beanstalk를 통해 docker image를 배포할 수 있다.
이번에는 기존에 만들었던 Dockerfile을 Elastic beanstalk에 배포해 보겠다.</p><hr><h3 id=dockerfile-준비하기>Dockerfile 준비하기<a hidden class=anchor aria-hidden=true href=#dockerfile-준비하기>#</a></h3><hr><p>이전에 node js server를 하나의 Dockerfile로 만들어 놓았다.
테스트하고 싶으신 분들은 <a href=https://bitbucket.org/kyuhyun/docker_node_server>this repository</a>를 참고하길 바란다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> novemberde/node-pm2</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>MAINTAINER</span><span style=color:#e6db74> KH BYUN &#34;novemberde.github.io&#34;</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENV</span> NODE_ENV production<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>EXPOSE</span><span style=color:#e6db74> 3000</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> ./ /src<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> npm install --prefix /src<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span> [<span style=color:#e6db74>&#34;pm2-docker&#34;</span>, <span style=color:#e6db74>&#34;/src/app.js&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><hr><h3 id=elastic-beanstalk-설정하기>Elastic Beanstalk 설정하기<a hidden class=anchor aria-hidden=true href=#elastic-beanstalk-설정하기>#</a></h3><hr><p>Elastic Beanstalk로 배포하는 경우에 아래와 같이 2가지 방법이 있다.</p><ul><li>Single instance</li><li>Load balancing, auto scaling</li></ul><p>Single instance는 하나에 인스턴스에 해당 dockerfile로 구성된 인스턴스가 올라가는 경우를 발한다.</p><p>만약 실무적으로 하나의 웹어플리케이션을 배포한다고 봤을 때는 Load balancing, auto scaling은
필수적으로 이루어져야 하기 때문에 load balancing, auto scaling을 택하는 것이 좋을 것이다.</p><p>이번에는 테스트이기 때문에 Single instance로 배포하고 메뉴를 살펴볼 것이다.</p><p><img loading=lazy src=/images/aws/eb/configuration.png alt=eb_conf></p><hr><h3 id=elastic-beanstalk에-docker패키지-배포하기>Elastic Beanstalk에 Docker패키지 배포하기<a hidden class=anchor aria-hidden=true href=#elastic-beanstalk에-docker패키지-배포하기>#</a></h3><hr><p>Environment를 생성하면 다음과 같은 화면을 볼 수 있다.</p><p>여기서 Confiuration을 통해 docker 설정 정보를 변경할 수 있다.</p><p>우리는 Dockerfile과 함께 웹어플리케이션을 배포해야하므로 Upload and Deploy를 선택하자.</p><p><img loading=lazy src=/images/aws/eb/dashboard.png alt=eb_dashboard></p><p>직접 업로드하기를 선택하고, git repository에서 배포에 필요한 파일들인
app.js, Dockerfile, package.json을 zip으로 압축하여 업로드하면 배포가 완료된다.</p><p>upload가 완료되었으면 Dashboard화면에서 위쪽의 url의 3000번 포트로 접속하여 배포가 완료되었는지 확인해 보자.</p><hr><h3 id=addition>Addition<a hidden class=anchor aria-hidden=true href=#addition>#</a></h3><hr><p>Seoul region 사용자들은 ECS(EC2 Container Service)를 사용하지 못해 안타까워하고 있다.
하지만 Elastic Beanstalk에서 Multicontainer Docker Platform을 사용할 때
내부적으로 ECS cluster를 사용하고 있다.</p><p>이말은 ECS는 공식적으로 지원하지 않지만 Elastic Beanstalk를 docker로 활용하면
ECS를 사용하는 것과 같은 형태라고 볼 수 있는 것이다.</p><p>이에 대해서 좀 더 자세히 알고 싶으신 분은 다음의 링크를 참고하길 바란다.
<a href=https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecs.html>Working with multicontainer docker platform</a></p><hr><h3 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h3><hr><ul><li><a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/Welcome.html?icmpid=docs_elasticbeanstalk_console">https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/Welcome.html?icmpid=docs_elasticbeanstalk_console</a></li><li><a href=https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker.html>https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker.html</a></li><li><a href=https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecs.html>https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecs.html</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://novemberde.github.io/tags/docker/>docker</a></li><li><a href=https://novemberde.github.io/tags/eb/>eb</a></li><li><a href=https://novemberde.github.io/tags/AWS/>AWS</a></li><li><a href=https://novemberde.github.io/tags/elastic/>elastic</a></li><li><a href=https://novemberde.github.io/tags/beanstalk/>beanstalk</a></li><li><a href=https://novemberde.github.io/tags/elasticbeanstalk/>elasticbeanstalk</a></li><li><a href=https://novemberde.github.io/tags/deploy/>deploy</a></li></ul><nav class=paginav><a class=prev href=https://novemberde.github.io/post/2017/08/03/CloudFormation/><span class=title>« Prev Page</span><br><span>AWS CloudFormation을 활용한 Architecture</span></a>
<a class=next href=https://novemberde.github.io/post/2017/07/01/Sequelize_0/><span class=title>Next Page »</span><br><span>Sequelize에서 parallel execution과 serial execution</span></a></nav></footer><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//novemberde-github-io.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://novemberde.github.io/>Novemberde's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>